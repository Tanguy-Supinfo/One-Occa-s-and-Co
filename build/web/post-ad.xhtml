<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Nouvelle annonce - OneOccas</title>
        <f:metadata>
            <f:event type="preRenderView" listener="#{post.onLoad}"/>
        </f:metadata>
    </h:head>
    <h:body>
        
        <header>
            <img id="logo" src="http://upload.fr-fr.cc/Capture7.JPG" ></img>
            <a href="dashboard.xhtml">
                <h3 class="profilt">
                    <img class="profil" src="http://upload.fr-fr.cc/Capture10.JPG"></img>
                </h3>
            </a>
        </header>
        
        <br></br>
        <h1 style="text-align: center">Vendre un nouvelle objet</h1>
        <br></br>
        
        <h:messages layout="table" style="color: red;" />
        <p style="color: #{dashboard.error_color};">#{dashboard.error_message}</p>
        
        <h:form enctype="multipart/form-data">
        
            <div class="dev">
                <h2>Image de l'annonce</h2>
                <p style="color: green;">#{post.successUploadMessage}</p>
                <h:inputFile id="uploader" value="#{post.file}" validator="#{post.validate}">
                    <f:ajax listener="#{post.uploadImage}" render="@form"/>
                </h:inputFile>
                
                <br></br>
                <br></br>
                
                <h2>Catégories</h2>
                <h:selectOneMenu value="#{post.selectedType}" style="width: 300px;">
                    <f:selectItems value="#{post.types}" var="data" itemValue="#{data}" itemLabel="#{data.name}" />
                </h:selectOneMenu>
                
                <br></br>
                <br></br>
                
                <h2>Titre de l'annonce</h2>
                <h:inputText id="title" value="#{post.title}" required="true" style="width: 300px;"
                         requiredMessage="La saisie du titre est obligatoire !"
                         a:placeholder="Un super smartphone ..." />
                
                <br></br>
                <br></br>
                
                <h2>Description</h2>
                <h:inputTextarea id="description" value="#{post.description}" required="true" 
                         requiredMessage="La saisie de la description est obligatoire !" 
                         cols="40" rows="10" />
                
                <br></br>
                <br></br>
                
                <h2>Prix</h2>
                <h:inputText id="price" value="#{post.price}" required="true" style="width: 300px;"
                         requiredMessage="La saisie du prix est obligatoire !"
                         a:placeholder="Ex: 20 ou 56.14 ...">
                    <f:validateRegex pattern="^[0-9]*.?[0-9]+$" />
                </h:inputText>
            </div>
            
            <br></br>
            <br></br>
            
            <p style="text-align: center">Tout vous semble correct ?</p>
            <p style="text-align: center">Si oui, il ne vous reste plus qu'à valider votre annonce et on s'occupe de la mettre en ligne ...</p>
            
            <h:commandButton class="valider" value="Poster l'annonce" action="#{post.postNewObject}" />            
        </h:form>
        
        <style>
            body {
                margin: 0;
                font-family: 'Comfortaa', cursive;
            }
            header {
                overflow: hidden;
                background-color:rgb(236, 30, 30);
                padding: 10px;
            }
            
            #logo {
                width: 100px;
                margin-left: 3% ;
                margin-top: 1%;
            }

            .haut {
                background-color:rgb(236, 30, 30) ;
                height:170px ;
                width:100% ;
            }

            .h{
                z-index: 15 ;
                margin-top: -23%;
                margin-left: 40%;
            }

            .profil{
                margin-left: 19%;
                margin-top:0% ;
                z-index: 40;
            }

            .profilt{
                margin-left: 90%;
                margin-top:-3% ;
                color: rgb(236, 30, 30);
                cursor: pointer;
            }
            .upload{
                color: white;
                margin-left: 45%;
                margin-top: -4%;
                font-family: Verdana, sans-serif;
            }
            .image {
                border-width: 5px;
                border-left-color:white;
                border-top-color:rgb(236, 30, 30);
                border-style: solid;
                width: 20%;
                height: 500px;
            }
            .dev{
                margin-left: 40%;
            }

            #div1 {
              float: left;
              width: 100%;
              height: 100%;


              border: 1px solid black;
            }
            .dui{
                margin-top: 30% ;
                margin-left: 21%;
            }
            .ttitre{
                width: 10%;
                border-color: black;
                border-width:2px;
            }
            .valider{
              border: 100%;
              border-width: 4px;
              border-color:rgb(235, 8, 8) ;
              border-radius:13px ;
              margin-top: 2%;
              margin-left: 47%;
              margin-bottom: 20%;
              cursor: pointer;
            }
            h2{
              font-family: Arial, sans-serif;
            }
            
        </style>
        
    </h:body>
</html>

